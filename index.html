<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orchestrator_v4 | Ultimate AI</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & Babel CDNs -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&family=JetBrains+Mono:wght@400;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0B0F19;
            color: white;
            margin: 0;
            overflow-x: hidden;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .reveal { 
            opacity: 0; 
            transform: translateY(30px); 
            transition: all 1s cubic-bezier(0.16, 1, 0.3, 1); 
        }
        .reveal-visible { 
            opacity: 1; 
            transform: translateY(0); 
        }

        .glass-card { 
            background: rgba(17, 24, 39, 0.4); 
            backdrop-filter: blur(12px); 
            border: 1px solid rgba(255, 255, 255, 0.05); 
        }

        .nav-blur { 
            backdrop-filter: saturate(180%) blur(20px); 
            background: rgba(11, 15, 25, 0.8); 
        }

        .hero-gradient { 
            background: radial-gradient(circle at 50% -20%, rgba(91, 140, 255, 0.12) 0%, transparent 60%); 
        }

        .text-glow { 
            text-shadow: 0 0 30px rgba(91, 140, 255, 0.3); 
        }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0B0F19; }
        ::-webkit-scrollbar-thumb { background: #1F2937; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #5B8CFF; }

        .font-mono { font-family: 'JetBrains Mono', monospace; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- Custom Hook for Scroll Animations ---
        const useScrollReveal = () => {
            const [isVisible, setIsVisible] = useState(false);
            const domRef = useRef();

            useEffect(() => {
                const observer = new IntersectionObserver(entries => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) setIsVisible(true);
                    });
                }, { threshold: 0.1 });
                
                const current = domRef.current;
                if (current) observer.observe(current);
                return () => { if (current) observer.unobserve(current); };
            }, []);

            return [domRef, isVisible];
        };

        const Icon = ({ name, size = 16, className = "" }) => {
            const iconRef = useRef(null);
            useEffect(() => {
                if (window.lucide) {
                    window.lucide.createIcons();
                }
            }, [name]);

            return <i data-lucide={name} className={className} style={{ width: size, height: size }}></i>;
        };

        const Navbar = ({ gitLink }) => (
            <nav className="fixed top-0 left-0 right-0 z-50 border-b border-white/5 nav-blur">
                <div className="max-w-7xl mx-auto px-6 h-14 flex items-center justify-between">
                    <div className="flex items-center space-x-3">
                        <div className="w-6 h-6 bg-[#5B8CFF] rounded flex items-center justify-center">
                            <Icon name="workflow" size={14} className="text-white" />
                        </div>
                        <span className="font-bold text-sm tracking-tight text-white uppercase tracking-widest">Orchestrator_v4</span>
                    </div>
                    <div className="hidden md:flex items-center space-x-8 text-[10px] font-bold uppercase tracking-[0.2em] text-white/40">
                        <a href="#theory" className="hover:text-white transition-colors">Philosophy</a>
                        <a href="#architecture" className="hover:text-white transition-colors">Architecture</a>
                        <a href="#agents" className="hover:text-white transition-colors">Agent Pool</a>
                        <a href="#demo" className="hover:text-white transition-colors">Terminal</a>
                    </div>
                    <div className="flex items-center space-x-4">
                        <a 
                            href={gitLink}
                            target="_blank" 
                            rel="noopener noreferrer"
                            className="bg-white/5 border border-white/10 hover:bg-white/10 text-white p-2 rounded transition-all flex items-center justify-center"
                        >
                            <Icon name="github" size={16} />
                        </a>
                        <button className="bg-[#5B8CFF] text-white text-[10px] font-bold px-4 py-2 rounded uppercase hover:brightness-110 transition-all shadow-lg shadow-blue-500/10">
                            Launch Assistant
                        </button>
                    </div>
                </div>
            </nav>
        );

        const Hero = ({ gitLink }) => {
            const [ref, isVisible] = useScrollReveal();
            
            return (
                <section className="relative pt-48 pb-32 overflow-hidden hero-gradient">
                    <div className="max-w-6xl mx-auto px-6 text-center relative z-10">
                        <div ref={ref} className={`reveal ${isVisible ? 'reveal-visible' : ''}`}>
                            <div className="inline-flex items-center space-x-2 border border-[#5B8CFF]/20 bg-[#5B8CFF]/5 px-3 py-1 rounded-full text-[10px] font-bold tracking-widest uppercase text-[#5B8CFF] mb-12">
                                <span className="w-1.5 h-1.5 rounded-full bg-[#5B8CFF] animate-pulse"></span>
                                <span>Parent-Child Task Distribution v4.0</span>
                            </div>
                            <h1 className="text-6xl md:text-8xl font-bold tracking-tighter text-white mb-8 leading-[0.85] text-glow">
                                Ultimate AI <br />
                                <span className="text-white/30 italic">Personal Assistant</span>
                            </h1>
                            <p className="text-lg text-[#9AA4B2] max-w-2xl mx-auto mb-14 leading-relaxed font-normal">
                                A high-fidelity agentic ecosystem built on n8n tool orchestration. 
                                Leveraging specialized sub-workflows for deterministic results across communication, scheduling, and strategic research.
                            </p>
                            
                            <div className="flex flex-col sm:flex-row items-center justify-center gap-4 mb-20">
                                <button className="w-full sm:w-auto px-10 py-4 bg-white text-[#0B0F19] font-bold rounded text-xs uppercase tracking-widest hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center">
                                    Explore Architecture <Icon name="arrow-right" size={14} className="ml-2" />
                                </button>
                                <a 
                                    href={gitLink}
                                    target="_blank" 
                                    rel="noopener noreferrer"
                                    className="w-full sm:w-auto px-10 py-4 border border-white/10 bg-white/5 text-white font-bold rounded text-xs uppercase tracking-widest hover:bg-white/10 transition-all flex items-center justify-center group"
                                >
                                    <Icon name="github" size={16} className="mr-3" />
                                    Source Code
                                    <Icon name="arrow-up-right" size={14} className="ml-2 opacity-50 group-hover:opacity-100 transition-all" />
                                </a>
                            </div>

                            <div className="max-w-4xl mx-auto p-4 rounded-xl border border-white/5 bg-black/20 backdrop-blur-sm">
                                <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                                    {[
                                        { label: "ORCHESTRATOR", val: "OpenRouter", icon: "brain" },
                                        { label: "PLANNER", val: "GPT-4o", icon: "layers" },
                                        { label: "RESEARCH", val: "Claude-3", icon: "search" },
                                        { label: "STATE", val: "Airtable", icon: "database" }
                                    ].map((stat, i) => (
                                        <div key={i} className="p-4 border border-white/5 rounded-lg text-left">
                                            <Icon name={stat.icon} size={14} className="text-[#5B8CFF] mb-3" />
                                            <span className="block text-[10px] font-bold text-[#9AA4B2] uppercase tracking-widest mb-1">{stat.label}</span>
                                            <span className="text-sm font-bold text-white tracking-tight">{stat.val}</span>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        const Philosophy = () => {
            const [ref, isVisible] = useScrollReveal();
            
            return (
                <section id="theory" className="py-32 border-y border-white/5 bg-[#0B0F19]">
                    <div className="max-w-7xl mx-auto px-6">
                        <div ref={ref} className={`reveal ${isVisible ? 'reveal-visible' : ''} grid grid-cols-1 lg:grid-cols-2 gap-24 items-center`}>
                            <div>
                                <span className="text-[11px] font-bold text-[#5B8CFF] uppercase tracking-[0.3em] mb-6 block">The Theory</span>
                                <h2 className="text-4xl font-bold text-white mb-8 leading-tight tracking-tight">
                                    Decoupled Intelligence <br />for Scalable Workflows.
                                </h2>
                                <div className="space-y-6 text-[#9AA4B2] text-sm leading-relaxed max-w-lg">
                                    <p>
                                        Generic LLMs suffer from "context drift" when managing complex operations. This system solves this by implementing 
                                        a <strong>Modular Agent Pool</strong>.
                                    </p>
                                    <p>
                                        Instead of one prompt doing everything, our <strong>Parent Orchestrator</strong> routes intents to specialized 
                                        <strong>Child Agents</strong>. Each agent is an isolated n8n workflow with a dedicated system prompt, toolset, 
                                        and memory buffer.
                                    </p>
                                    <ul className="space-y-3 pt-4">
                                        {[
                                            "Deterministic reliability via workflow-gating",
                                            "Principal of Least Privilege applied to AI agents",
                                            "Parallel tool execution across diverse APIs",
                                            "Long-term state persistence in Airtable"
                                        ].map((item, i) => (
                                            <li key={i} className="flex items-center text-white/70">
                                                <Icon name="check-circle-2" size={14} className="text-[#5B8CFF] mr-3" />
                                                {item}
                                            </li>
                                        ))}
                                    </ul>
                                </div>
                            </div>
                            <div className="relative p-10 glass-card rounded-2xl flex items-center justify-center overflow-hidden border-[#5B8CFF]/10">
                                <div className="absolute inset-0 opacity-[0.03]" style={{ backgroundImage: 'radial-gradient(#fff 1px, transparent 1px)', backgroundSize: '24px 24px' }}></div>
                                <div className="relative z-10 w-full font-mono text-[11px] space-y-4 text-[#9AA4B2]">
                                    <div className="p-4 bg-black/40 border border-white/10 rounded flex items-center justify-between">
                                        <span className="text-[#5B8CFF]">INPUT: "Plan my week and email Nate"</span>
                                        <span className="px-2 py-0.5 bg-blue-500/20 rounded text-[10px] text-blue-400">TRIGGER</span>
                                    </div>
                                    <div className="ml-8 p-4 bg-white/5 border border-white/10 rounded border-l-2 border-l-[#5B8CFF]">
                                        <span className="text-white font-bold tracking-tight">ROUTING: plannerAgent.execute()</span>
                                    </div>
                                    <div className="ml-16 grid grid-cols-1 gap-2">
                                        <div className="p-3 bg-white/5 border border-white/10 rounded flex items-center space-x-3">
                                            <Icon name="calendar" size={12} />
                                            <span>Step 1: Get Calendar Events</span>
                                        </div>
                                        <div className="p-3 bg-white/5 border border-white/10 rounded flex items-center space-x-3">
                                            <Icon name="users" size={12} />
                                            <span>Step 2: Lookup Contact [Sarah]</span>
                                        </div>
                                        <div className="p-3 bg-white/5 border border-white/10 rounded flex items-center space-x-3">
                                            <Icon name="mail" size={12} />
                                            <span>Step 3: Email Reply to ID: 0x92f</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        const AgentCard = ({ icon, title, desc, specs, detail }) => {
            const [ref, isVisible] = useScrollReveal();
            
            return (
                <div ref={ref} className={`reveal ${isVisible ? 'reveal-visible' : ''} glass-card p-10 rounded-xl group transition-all duration-500 hover:border-[#5B8CFF]/30 relative overflow-hidden`}>
                    <div className="relative z-10">
                        <div className="w-10 h-10 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center mb-8 group-hover:bg-[#5B8CFF] group-hover:text-white transition-all duration-300">
                            <Icon name={icon} size={20} />
                        </div>
                        <h3 className="text-xl font-bold text-white mb-4 tracking-tight">{title}</h3>
                        <p className="text-[#9AA4B2] text-xs mb-8 leading-relaxed font-medium">{desc}</p>
                        
                        <div className="space-y-2 mb-8">
                            {detail.map((d, i) => (
                                <div key={i} className="flex items-center text-[10px] text-white/40 uppercase tracking-widest">
                                    <span className="w-1 h-1 bg-[#5B8CFF] rounded-full mr-3"></span>
                                    {d}
                                </div>
                            ))}
                        </div>

                        <div className="pt-6 border-t border-white/5 flex items-center justify-between">
                            <div className="text-[10px] font-mono font-bold text-[#5B8CFF] uppercase">
                                {specs.model} // {specs.latency}
                            </div>
                            <Icon name="arrow-right" size={14} className="text-white/10 group-hover:text-white transition-all transform group-hover:translate-x-1" />
                        </div>
                    </div>
                </div>
            );
        };

        const AgentsSection = () => {
            const agents = [
                {
                    icon: "layers",
                    title: "Planner Agent",
                    desc: "Decomposes complex goals into actionable, ordered steps using a structured numbering protocol.",
                    specs: { model: "GPT-4o", latency: "1.2s" },
                    detail: ["HEURISTIC STEP GENERATION", "TOOL-CHAIN MAPPING", "ACTIONABLE PLAN OUTPUT"]
                },
                {
                    icon: "brain",
                    title: "Decision Engine",
                    desc: "Analytical core that synthesizes data from Gmail and Calendar to provide clear recommendations with reasoning.",
                    specs: { model: "GPT-4o", latency: "2.1s" },
                    detail: ["RECURSIVE CONTEXT SEARCH", "RECOMMENDATION ENGINE", "ALTERNATIVE LOGIC"]
                },
                {
                    icon: "search",
                    title: "Research Agent",
                    desc: "Deep web synthesis using Tavily nodes and Anthropic Claude for comprehensive insight reports.",
                    specs: { model: "CLAUDE-3.5", latency: "4.4s" },
                    detail: ["MULTI-NODE SEARCH", "SOURCE ATTRIBUTION", "CAVEAT DETECTION"]
                },
                {
                    icon: "mail",
                    title: "Email Agent (Upgraded)",
                    desc: "Smart inbox management with classification tiers, follow-up detection, and automated reply suggestions.",
                    specs: { model: "GPT-4o", latency: "1.8s" },
                    detail: ["PRIORITY CLASSIFICATION", "FOLLOW-UP DETECTION", "HTML FORMATTING"]
                },
                {
                    icon: "users",
                    title: "Contact Manager",
                    desc: "Relationship state handler that manages persistent contact data within an Airtable schema.",
                    specs: { model: "AIRTABLE-API", latency: "0.4s" },
                    detail: ["ENTITY RESOLUTION", "METADATA UPSERT", "RELATIONSHIP MAPPING"]
                },
                {
                    icon: "calendar",
                    title: "Temporal Scheduler",
                    desc: "Deterministic CRUD engine for Google Calendar events with built-in conflict awareness.",
                    specs: { model: "G-CAL-API", latency: "0.6s" },
                    detail: ["TIMEZONE NORMALIZATION", "OVERLAP DETECTION", "INVITEE SYNC"]
                }
            ];

            return (
                <section id="agents" className="py-32 bg-[#0B0F19]">
                    <div className="max-w-7xl mx-auto px-6">
                        <div className="flex flex-col md:flex-row justify-between items-end mb-20 gap-8">
                            <div className="max-w-xl">
                                <span className="text-[10px] font-bold text-[#5B8CFF] uppercase tracking-[0.4em] mb-4 block">Deployment Pool</span>
                                <h2 className="text-3xl font-bold text-white tracking-tight">System Modules</h2>
                                <p className="text-[#9AA4B2] mt-4 text-sm leading-relaxed">
                                    Every agent is a discrete n8n sub-workflow configured for zero-shot reliability.
                                </p>
                            </div>
                            <div className="text-[10px] font-bold text-white/30 uppercase tracking-widest border border-white/10 px-4 py-2 rounded">
                                Total Agents: 08
                            </div>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                            {agents.map((agent, i) => (
                                <AgentCard key={i} {...agent} />
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const TerminalSnippet = () => {
            const [ref, isVisible] = useScrollReveal();
            
            return (
                <section id="demo" className="py-32 bg-[#0B0F19] border-t border-white/5">
                    <div className="max-w-4xl mx-auto px-6">
                        <div ref={ref} className={`reveal ${isVisible ? 'reveal-visible' : ''} glass-card rounded-xl overflow-hidden border-white/10 shadow-3xl`}>
                            <div className="bg-white/5 px-4 py-3 flex items-center border-b border-white/5">
                                <div className="flex space-x-1.5 mr-6">
                                    <div className="w-2.5 h-2.5 rounded-full bg-white/10"></div>
                                    <div className="w-2.5 h-2.5 rounded-full bg-white/10"></div>
                                    <div className="w-2.5 h-2.5 rounded-full bg-white/10"></div>
                                </div>
                                <span className="text-[10px] font-bold text-white/40 uppercase tracking-widest">n8n_trace_viewer</span>
                            </div>
                            <div className="p-10 font-mono text-[12px] space-y-3">
                                <div className="flex space-x-4">
                                    <span className="text-white/20">01</span>
                                    <span className="text-white/80">$ ultimate-assistant --prompt "Plan my week and research AI trends"</span>
                                </div>
                                <div className="flex space-x-4">
                                    <span className="text-white/20">02</span>
                                    <span className="text-[#5B8CFF]">[INF] Initializing Parent Orchestrator...</span>
                                </div>
                                <div className="flex space-x-4">
                                    <span className="text-white/20">03</span>
                                    <span className="text-[#8A5CFF]">[AGT] Routing to Planner_Agent (ID: PLNR-123)</span>
                                </div>
                                <div className="flex space-x-4">
                                    <span className="text-white/20">04</span>
                                    <span className="text-[#8A5CFF]">[AGT] Routing to Research_Agent (ID: RSRCH-456)</span>
                                </div>
                                <div className="flex space-x-4">
                                    <span className="text-white/20">05</span>
                                    <span className="text-[#22D3EE]">[SYS] Planning 4 distinct steps via GPT-4o...</span>
                                </div>
                                <div className="flex space-x-4">
                                    <span className="text-white/20">06</span>
                                    <span className="text-[#22D3EE]">[SYS] Conducting multi-node crawl via Tavily...</span>
                                </div>
                                <div className="flex space-x-4">
                                    <span className="text-white/20">07</span>
                                    <span className="text-emerald-400">[RES] Status: Completed successfully. [Latency: 4.8s]</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            );
        };

        const Footer = ({ gitLink }) => (
            <footer className="py-24 bg-[#0B0F19] border-t border-white/5">
                <div className="max-w-7xl mx-auto px-6">
                    <div className="flex flex-col md:flex-row justify-between items-center gap-12 mb-16">
                        <div className="flex items-center space-x-3">
                            <div className="w-6 h-6 bg-[#5B8CFF] rounded flex items-center justify-center">
                                <Icon name="workflow" size={14} className="text-white" />
                            </div>
                            <span className="font-bold text-sm text-white uppercase tracking-widest">Orchestrator_v4</span>
                        </div>
                        <div className="flex space-x-12 text-[10px] font-bold uppercase tracking-[0.2em] text-white/30">
                            <a href="#" className="hover:text-white transition-colors">Documentation</a>
                            <a href="#" className="hover:text-white transition-colors">API Keys</a>
                            <a href="#" className="hover:text-white transition-colors">Airtable Schema</a>
                        </div>
                        <div className="flex space-x-4">
                            <a 
                                href={gitLink} 
                                target="_blank" 
                                rel="noopener noreferrer"
                                className="p-2 border border-white/10 rounded text-white/40 hover:text-white transition-all flex items-center justify-center"
                            >
                                <Icon name="github" size={18} />
                            </a>
                            <a href="#" className="p-2 border border-white/10 rounded text-white/40 hover:text-white transition-all flex items-center justify-center">
                                <Icon name="globe" size={18} />
                            </a>
                        </div>
                    </div>
                    <div className="pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center text-[10px] font-mono text-white/20 uppercase tracking-widest gap-4">
                        <p>&copy; 2024 System_v4 Agentic Framework</p>
                        <div className="flex space-x-6">
                            <span>Instance: 0x95e5a...</span>
                            <span className="text-emerald-500/50">Runtime: n8n_cloud_v1.4</span>
                        </div>
                    </div>
                </div>
            </footer>
        );

        function App() {
            const gitLink = "https://github.com/SolvyrEryx/Ultimate-AI-Agent";

            useEffect(() => {
                const setFavicon = () => {
                    const svg = `
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#5B8CFF" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 12h3M18 12h3M6 5l2 2M16 17l2 2M6 19l2-2M16 7l2-2M12 3v3M12 18v3"/>
                            <circle cx="12" cy="12" r="3"/>
                        </svg>
                    `;
                    const blob = new Blob([svg], { type: 'image/svg+xml' });
                    const url = URL.createObjectURL(blob);
                    const link = document.querySelector("link[rel*='icon']") || document.createElement('link');
                    link.type = 'image/x-icon';
                    link.rel = 'shortcut icon';
                    link.href = url;
                    document.getElementsByTagName('head')[0].appendChild(link);
                };

                setFavicon();
                document.title = "Orchestrator_v4 | Ultimate AI";
                
                // Initialize Lucide icons on initial load
                if (window.lucide) {
                    window.lucide.createIcons();
                }
            }, []);

            return (
                <div className="min-h-screen">
                    <Navbar gitLink={gitLink} />
                    <Hero gitLink={gitLink} />
                    <Philosophy />
                    <AgentsSection />
                    <TerminalSnippet />
                    <Footer gitLink={gitLink} />
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
